var __decorate=this&&this.__decorate||function(e,t,r,a){var n,i=arguments.length,o=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,r):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,a);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(o=(i<3?n(o):i>3?n(t,r,o):n(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter=this&&this.__awaiter||function(e,t,r,a){return new(r||(r=Promise))(function(n,i){function o(e){try{d(a.next(e))}catch(e){i(e)}}function s(e){try{d(a.throw(e))}catch(e){i(e)}}function d(e){e.done?n(e.value):new r(function(t){t(e.value)}).then(o,s)}d((a=a.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function r(e){return function(t){return a([e,t])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;d;)try{if(n=1,i&&(o=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return d.label++,{value:r[1],done:!1};case 5:d.label++,i=r[1],r=[0];continue;case 7:r=d.ops.pop(),d.trys.pop();continue;default:if(o=d.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){d=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){d.label=r[1];break}if(6===r[0]&&d.label<o[1]){d.label=o[1],o=r;break}if(o&&d.label<o[2]){d.label=o[2],d.ops.push(r);break}o[2]&&d.ops.pop(),d.trys.pop();continue}r=t.call(e,d)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var n,i,o,s,d={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};define("app",["require","exports","aurelia-fetch-client","aurelia-framework","bootstrap"],function(e,t,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){var t=this;this.http=e,this.parameters={search_query:void 0,total_records:void 0,table_data:void 0,page_size:10,skip:0,sort_column:1,sort_direction:"ascending",current_page:1,filters:[]},this.table_filters=[{description:"Contains",apply_to_columns:[1,3,4,5,6]},{description:"Greater Than",apply_to_columns:[2]},{description:"Smaller Than",apply_to_columns:[2]},{description:"Equals",apply_to_columns:[1,2,3,4,5,6]}],this.next_page=function(e){return __awaiter(t,void 0,void 0,function(){var t,r;return __generator(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.fetch_data(e)];case 1:return t=a.sent(),[2,t];case 2:return r=a.sent(),alert("[app:next_page] Failed to load the data: "+JSON.stringify(r)),[3,3];case 3:return[2]}})})},this.previous_page=function(e){return __awaiter(t,void 0,void 0,function(){var t,r;return __generator(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.fetch_data(e)];case 1:return t=a.sent(),[2,t];case 2:return r=a.sent(),alert("[app:previous_page] Failed to load the data: "+JSON.stringify(r)),[3,3];case 3:return[2]}})})},this.change_page=function(e){return __awaiter(t,void 0,void 0,function(){var t,r;return __generator(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.fetch_data(e)];case 1:return t=a.sent(),[2,t];case 2:return r=a.sent(),alert("[app:change_page] Failed to load the data: "+JSON.stringify(r)),[3,3];case 3:return[2]}})})},this.sort=function(e){return __awaiter(t,void 0,void 0,function(){var t,r;return __generator(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.fetch_data(e)];case 1:return t=a.sent(),[2,t];case 2:return r=a.sent(),alert("[app:sort] Failed to load the data: "+JSON.stringify(r)),[3,3];case 3:return[2]}})})},this.search=function(e){return __awaiter(t,void 0,void 0,function(){var t,r;return __generator(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.fetch_data(e)];case 1:return t=a.sent(),[2,t];case 2:return r=a.sent(),alert("[app:change_page] Failed to load the data: "+JSON.stringify(r)),[3,3];case 3:return[2]}})})},this.page_size_changed=function(e){return __awaiter(t,void 0,void 0,function(){var t,r;return __generator(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.fetch_data(e)];case 1:return t=a.sent(),[2,t];case 2:return r=a.sent(),alert("[app:change_page] Failed to load the data: "+JSON.stringify(r)),[3,3];case 3:return[2]}})})},this.filter=function(e){return __awaiter(t,void 0,void 0,function(){var t,r;return __generator(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.fetch_data(e)];case 1:return t=a.sent(),[2,t];case 2:return r=a.sent(),alert("[app:filter] Failed to load the data: "+JSON.stringify(r)),[3,3];case 3:return[2]}})})}}return e.prototype.attached=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,this.fetch_data(this.parameters)];case 1:return e=t.sent(),this.data=e.data,this.parameters.total_records=e.total_records,[2]}})})},e.prototype.fetch_data=function(e){return __awaiter(this,void 0,void 0,function(){var t,a,n=this;return __generator(this,function(i){switch(i.label){case 0:return t=void 0==e.sort_direction?void 0:"ascending"==e.sort_direction?0:1,a=e.filters.map(function(e){return{value:e.value,column:e.selected_column,description:n.description_to_enum(e.description)}}),[4,this.http.fetch("https://api.dtaalbers.com/au-datatable/datatable",{method:"POST",body:r.json({skip:e.skip,page_size:e.page_size,search_query:e.search_query,sort_column:e.sort_column,sort_direction:t,filters:a})}).then(function(e){return e.json()})];case 1:return[2,i.sent()]}})})},e.prototype.description_to_enum=function(e){switch(e){case"Greater Than":return 0;case"Smaller Than":return 1;case"Equals":return 2;case"Contains":return 3;default:return}},e=__decorate([a.autoinject(),__metadata("design:paramtypes",[r.HttpClient])],e)}();t.App=n}),define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("main",["require","exports","./environment"],function(e,t,r){"use strict";function a(e){e.use.standardConfiguration().developmentLogging().feature("resources").plugin("au-datatable"),r.default.testing&&e.use.plugin("aurelia-testing"),e.start().then(function(){return e.setRoot()})}Object.defineProperty(t,"__esModule",{value:!0}),t.configure=a}),define("resources/index",["require","exports"],function(e,t){"use strict";function r(e){e.globalResources([])}Object.defineProperty(t,"__esModule",{value:!0}),t.configure=r}),define("text!app.html",["module"],function(e){e.exports='<template><require from=bootstrap/css/bootstrap.css></require><require from=./app.css></require><div id=wrapper class=container><div class=row><div class=col-md-12><div class=row><div class=col-md-12><a href=/au-datatable/table.html class="btn btn-primary pull-right">View source</a><br><br></div></div><div class=header><div class=row><div class=col-md-6></div><div class=col-md-4><au-datatable-search placeholder=Search.. input_classes=form-control on_search_change.bind=search parameters.bind=parameters></au-datatable-search></div><div class=col-md-2><au-datatable-pagesize page_sizes.bind=[10,25,50,100] classes=form-control on_page_size_change.bind=page_size_changed parameters.bind=parameters></au-datatable-pagesize></div></div></div><table class="table table-bordered table-striped" au-datatable=" starting_data.bind: data; parameters.bind: parameters;"><thead au-datatable-sort="columns.bind: [1,2,3,4,5,6]; on_sort.bind: sort; parameters.bind: parameters"><tr><th></th><th>Fullname</th><th>Age</th><th>City</th><th>Username</th><th>Email</th><th>Nationality</th></tr><tr as-element=au-datatable-filter on_filter.bind=filter filters.bind=table_filters columns.bind=[1,2,3,4,5,6] parameters.bind=parameters containerless></tr></thead><tbody><tr if.bind="parameters.table_data.length > 0" repeat.for="item of parameters.table_data"><td><img src=${item.thumbnail}></td><td>${item.name}</td><td>${item.age}</td><td>${item.city}</td><td>${item.username}</td><td>${item.email}</td><td>${item.nat}</td></tr></tbody></table><div class=footer><div class=col-md-6><au-datatable-info parameters.bind=parameters></au-datatable-info></div><div class=col-md-6><au-datatable-pagination class=pull-right on_next_page.bind=next_page on_previous_page.bind=previous_page on_page_change.bind=change_page parameters.bind=parameters></au-datatable-pagination></div></div></div></div></div></template>'}),define("text!app.css",["module"],function(e){e.exports="#wrapper {\n  margin-top: 30px; }\n  #wrapper img {\n    width: 30px;\n    height: 30px;\n    border-radius: 50%; }\n  #wrapper .btn-primary {\n    background-color: #333;\n    color: white;\n    border-color: #333;\n    border-radius: 0px; }\n  #wrapper .header {\n    padding: 5px;\n    border-top: 1px solid #ddd;\n    border-left: 1px solid #ddd;\n    border-right: 1px solid #ddd; }\n  #wrapper .form-control {\n    border-radius: 0;\n    outline: none; }\n  #wrapper select.form-control {\n    width: 100%;\n    height: 34px;\n    -webkit-appearance: none;\n    font-size: 9pt;\n    -moz-appearance: none;\n    background: url(\"data:image/svg+xml;utf8,<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='18' height='18' viewBox='0 0 24 24'><path fill='grey' d='M7.406 7.828l4.594 4.594 4.594-4.594 1.406 1.406-6 6-6-6z'></path></svg>\") #fff;\n    background-position: 98% 50%;\n    background-repeat: no-repeat;\n    border-radius: 0;\n    border: 1px solid #cccccc;\n    padding: 2px 0 0 10px; }\n  #wrapper table {\n    margin: 0; }\n    #wrapper table thead .au-table-filter .btn-primary {\n      padding: 1px 6px 2px 6px;\n      border-radius: 0; }\n    #wrapper table tbody tr.selected {\n      background-color: #333 !important;\n      color: white !important; }\n    #wrapper table tbody tr td:first-child {\n      text-align: center; }\n    #wrapper table tbody tr:hover {\n      background-color: #333;\n      color: white !important;\n      cursor: pointer; }\n    #wrapper table tbody tr td {\n      vertical-align: middle; }\n  #wrapper .footer {\n    padding: 10px 5px;\n    height: 55px;\n    border-left: 1px solid #ddd;\n    border-right: 1px solid #ddd;\n    border-bottom: 1px solid #ddd; }\n    #wrapper .footer .col-md-6 {\n      padding: 0; }\n    #wrapper .footer .au-table-info {\n      margin-top: 8px;\n      margin-left: 10px; }\n    #wrapper .footer .info {\n      margin-top: 0px;\n      display: inline-block; }\n    #wrapper .footer nav ul {\n      margin: 0; }\n      #wrapper .footer nav ul li a {\n        border-radius: 0px;\n        color: #333; }\n      #wrapper .footer nav ul li:hover {\n        cursor: pointer; }\n      #wrapper .footer nav ul li.dots {\n        cursor: none !important; }\n      #wrapper .footer nav ul li.active a {\n        background-color: #333;\n        border-color: #333;\n        color: white; }\n      #wrapper .footer nav ul li.dots {\n        cursor: default !important; }\n        #wrapper .footer nav ul li.dots a:hover {\n          background: white !important; }\n  #wrapper .nav-tabs {\n    margin-top: 50px; }\n"});